{"version":3,"sources":["webpack:///component---src-pages-download-js-b45f70ca01352dad941e.js","webpack:///./~/file-saver/FileSaver.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/pages/download.js"],"names":["webpackJsonp","697","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_RESULT__","saveAs","view","navigator","test","userAgent","doc","document","get_URL","URL","webkitURL","save_link","createElementNS","can_use_save_link","click","node","event","MouseEvent","dispatchEvent","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","setTimeout","force_saveable_type","arbitrary_revoke_timeout","revoke","file","revoker","revokeObjectURL","remove","dispatch","filesaver","event_types","concat","i","length","listener","call","auto_bom","blob","type","Blob","String","fromCharCode","FileSaver","name","no_auto_bom","object_url","this","force","dispatch_all","split","fs_error","FileReader","reader","onloadend","url","result","replace","popup","open","location","href","undefined","readyState","DONE","readAsDataURL","INIT","createObjectURL","opened","download","FS_proto","prototype","msSaveOrOpenBlob","abort","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","self","window","content","1208","Error","1209","__webpack_amd_options__","583","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_react","_react2","_gatsbyLink","_semanticUiReact","_fileSaver","_fileSaver2","_duotoneRender","_duotoneRender2","_reactRedux","SecondPage","_Component","apply","arguments","downloadImage","_props","props","width","height","svgString","XMLSerializer","serializeToString","querySelector","canvas","createElement","setAttribute","ctx","getContext","DOMURL","img","Image","svg","onload","drawImage","toBlob","src","render","Segment","basic","style","flex","flexDirection","display","Button","onClick","bind","margin","Component","mapStateToProps","_ref","imageData","connect"],"mappings":"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","file":"component---src-pages-download-js-b45f70ca01352dad941e.js","sourcesContent":["webpackJsonp([52357358931610],{\n\n/***/ 697:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* FileSaver.js\n\t * A saveAs() FileSaver implementation.\n\t * 1.3.2\n\t * 2016-06-16 18:25:19\n\t *\n\t * By Eli Grey, http://eligrey.com\n\t * License: MIT\n\t *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n\t */\n\t\n\t/*global self */\n\t/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\t\n\t/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\t\n\tvar saveAs = saveAs || (function(view) {\n\t\t\"use strict\";\n\t\t// IE <10 is explicitly unsupported\n\t\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\t\treturn;\n\t\t}\n\t\tvar\n\t\t\t  doc = view.document\n\t\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t\t, get_URL = function() {\n\t\t\t\treturn view.URL || view.webkitURL || view;\n\t\t\t}\n\t\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t\t, can_use_save_link = \"download\" in save_link\n\t\t\t, click = function(node) {\n\t\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\t\tnode.dispatchEvent(event);\n\t\t\t}\n\t\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t\t, throw_outside = function(ex) {\n\t\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\t\tthrow ex;\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t\t, revoke = function(file) {\n\t\t\t\tvar revoker = function() {\n\t\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t\t} else { // file is a File\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t\t}\n\t\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\t\tevent_types = [].concat(event_types);\n\t\t\t\tvar i = event_types.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t, auto_bom = function(blob) {\n\t\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t\t}\n\t\t\t\treturn blob;\n\t\t\t}\n\t\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\t\tif (!no_auto_bom) {\n\t\t\t\t\tblob = auto_bom(blob);\n\t\t\t\t}\n\t\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\t\tvar\n\t\t\t\t\t  filesaver = this\n\t\t\t\t\t, type = blob.type\n\t\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t\t, object_url\n\t\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t\t}\n\t\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t\t, fs_error = function() {\n\t\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\trevoke(object_url);\n\t\t\t\t\t}\n\t\t\t\t;\n\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\n\t\t\t\tif (can_use_save_link) {\n\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\t\tclick(save_link);\n\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\trevoke(object_url);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tfs_error();\n\t\t\t}\n\t\t\t, FS_proto = FileSaver.prototype\n\t\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t\t}\n\t\t;\n\t\t// IE 10+ (native saveAs)\n\t\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\t\treturn function(blob, name, no_auto_bom) {\n\t\t\t\tname = name || blob.name || \"download\";\n\t\n\t\t\t\tif (!no_auto_bom) {\n\t\t\t\t\tblob = auto_bom(blob);\n\t\t\t\t}\n\t\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t\t};\n\t\t}\n\t\n\t\tFS_proto.abort = function(){};\n\t\tFS_proto.readyState = FS_proto.INIT = 0;\n\t\tFS_proto.WRITING = 1;\n\t\tFS_proto.DONE = 2;\n\t\n\t\tFS_proto.error =\n\t\tFS_proto.onwritestart =\n\t\tFS_proto.onprogress =\n\t\tFS_proto.onwrite =\n\t\tFS_proto.onabort =\n\t\tFS_proto.onerror =\n\t\tFS_proto.onwriteend =\n\t\t\tnull;\n\t\n\t\treturn saveAs;\n\t}(\n\t\t   typeof self !== \"undefined\" && self\n\t\t|| typeof window !== \"undefined\" && window\n\t\t|| this.content\n\t));\n\t// `self` is undefined in Firefox for Android content script context\n\t// while `this` is nsIContentFrameMessageManager\n\t// with an attribute `content` that corresponds to the window\n\t\n\tif (typeof module !== \"undefined\" && module.exports) {\n\t  module.exports.saveAs = saveAs;\n\t} else if ((\"function\" !== \"undefined\" && __webpack_require__(1208) !== null) && (__webpack_require__(1209) !== null)) {\n\t  !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t    return saveAs;\n\t  }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\n\n/***/ }),\n\n/***/ 1208:\n/***/ (function(module, exports) {\n\n\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ }),\n\n/***/ 1209:\n/***/ (function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {module.exports = __webpack_amd_options__;\r\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, {}))\n\n/***/ }),\n\n/***/ 583:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(88);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _semanticUiReact = __webpack_require__(100);\n\t\n\tvar _fileSaver = __webpack_require__(697);\n\t\n\tvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\t\n\tvar _duotoneRender = __webpack_require__(134);\n\t\n\tvar _duotoneRender2 = _interopRequireDefault(_duotoneRender);\n\t\n\tvar _reactRedux = __webpack_require__(95);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SecondPage = function (_Component) {\n\t  _inherits(SecondPage, _Component);\n\t\n\t  function SecondPage() {\n\t    _classCallCheck(this, SecondPage);\n\t\n\t    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t  }\n\t\n\t  SecondPage.prototype.downloadImage = function downloadImage() {\n\t    var _props = this.props,\n\t        width = _props.width,\n\t        height = _props.height;\n\t\n\t    var svgString = new XMLSerializer().serializeToString(document.querySelector(\"#svg\"));\n\t    var canvas = document.createElement('canvas');\n\t    canvas.setAttribute('width', width);\n\t    canvas.setAttribute('height', height);\n\t    var ctx = canvas.getContext(\"2d\");\n\t    var DOMURL = self.URL || self.webkitURL || self;\n\t    var img = new Image();\n\t    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n\t    var url = DOMURL.createObjectURL(svg);\n\t    img.onload = function () {\n\t      ctx.drawImage(img, 0, 0, width, height);\n\t      canvas.toBlob(function (blob) {\n\t        _fileSaver2.default.saveAs(blob, \"download.png\");\n\t      });\n\t    };\n\t    img.src = url;\n\t  };\n\t\n\t  SecondPage.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      _semanticUiReact.Segment,\n\t      { basic: true, style: {\n\t          flex: '1',\n\t          flexDirection: 'column',\n\t          display: 'flex'\n\t        } },\n\t      _react2.default.createElement(\n\t        _semanticUiReact.Segment,\n\t        null,\n\t        _react2.default.createElement(\n\t          'p',\n\t          null,\n\t          'Download'\n\t        ),\n\t        _react2.default.createElement(\n\t          _semanticUiReact.Button,\n\t          { onClick: this.downloadImage.bind(this) },\n\t          'Save'\n\t        )\n\t      ),\n\t      _react2.default.createElement(\n\t        _semanticUiReact.Segment,\n\t        { style: {\n\t            flex: '1',\n\t            margin: 0\n\t          } },\n\t        _react2.default.createElement(_duotoneRender2.default, null)\n\t      )\n\t    );\n\t  };\n\t\n\t  return SecondPage;\n\t}(_react.Component);\n\t\n\tvar mapStateToProps = function mapStateToProps(_ref) {\n\t  var imageData = _ref.imageData,\n\t      width = _ref.width,\n\t      height = _ref.height;\n\t\n\t  return {\n\t    imageData: imageData,\n\t    width: width,\n\t    height: height\n\t  };\n\t};\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps)(SecondPage);\n\tmodule.exports = exports['default'];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-download-js-b45f70ca01352dad941e.js","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/file-saver/FileSaver.js\n// module id = 697\n// module chunks = 52357358931610","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 1208\n// module chunks = 52357358931610","module.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 1209\n// module chunks = 52357358931610","import React, { Component } from 'react'\nimport Link from 'gatsby-link'\nimport { Segment, Button } from 'semantic-ui-react'\nimport FileSaver from \"file-saver\";\nimport DuotoneRender from '../components/duotone-render'\nimport { connect } from 'react-redux';\n\nclass SecondPage extends Component {\n  downloadImage() {\n    const { width, height } = this.props;\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#svg\")\n    );\n    var canvas = document.createElement('canvas')\n    canvas.setAttribute('width', width)\n    canvas.setAttribute('height', height)\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = self.URL || self.webkitURL || self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0, width, height);\n      canvas.toBlob(function (blob) {\n        FileSaver.saveAs(blob, \"download.png\");\n      });\n    };\n    img.src = url;\n  }\n\n  render() {\n    return (\n      <Segment basic style={{\n        flex: '1',\n        flexDirection: 'column',\n        display: 'flex'\n      }}>\n        <Segment>\n          <p>Download</p>\n          <Button onClick={this.downloadImage.bind(this)}>Save</Button>\n        </Segment>\n        <Segment style={{\n          flex: '1',\n          margin: 0\n        }}>\n          <DuotoneRender />\n        </Segment>\n      </Segment >\n    )\n  }\n}\n\nconst mapStateToProps = ({ imageData, width, height }) => {\n  return {\n    imageData,\n    width,\n    height\n  }\n}\n\nexport default connect(mapStateToProps)(SecondPage)\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/download.js"],"sourceRoot":""}