{"version":3,"sources":["webpack:///component---src-pages-image-input-js-f2576859756d8b11fa0b.js","webpack:///./src/pages/image-input.js","webpack:///./src/reducers/index.js"],"names":["webpackJsonp","576","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_gatsbyLink","_reactRedux","_semanticUiReact","_duotoneRender","_duotoneRender2","_index","ImageInput","_ref","selectFile","createElement","Segment","basic","Header","type","accept","onChange","mapStateToProps","state","mapDispatchToProps","dispatch","props","event","input","target","files","reader","FileReader","onload","e","imageData","result","image","Image","src","imageWidth","width","imageHeight","height","SET_SOURCE","payload","data","SET_FILTER","filter","id","name","colours","readAsDataURL","console","log","connect","195","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","reducer"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,EAASC,GAEhC,YAsBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GApBvFH,EAAQI,YAAa,CCPtB,IAAAE,GAAAL,EAAA,GDWKM,EAAUL,EAAuBI,GCVtCE,EAAAP,EAAA,IACAQ,GDaoBP,EAAuBM,GCb3CP,EAAA,MACAS,EAAAT,EAAA,IACAU,EAAAV,EAAA,KDmBKW,EAAkBV,EAAuBS,GClB9CE,EAAAZ,EAAA,KAEMa,EAAa,SAAAC,GAAA,GAAGC,GAAHD,EAAGC,UAAH,OACjBT,GAAAF,QAAAY,cAACP,EAAAQ,SAAQC,OAAA,GACPZ,EAAAF,QAAAY,cAACP,EAAAQ,QAAD,KACEX,EAAAF,QAAAY,cAACP,EAAAU,OAAD,oBACAb,EAAAF,QAAAY,cAAA,SAAOI,KAAK,OACVC,OAAO,UACPC,SAAUP,KAEdT,EAAAF,QAAAY,cAACP,EAAAQ,QAAD,KACEX,EAAAF,QAAAY,cAACL,EAAAP,QAAD,SAKAmB,EAAkB,SAACC,GACvB,UAGIC,EAAqB,SAACC,EAAUC,GACpC,OACEZ,WAAY,SAACa,GAAU,GACLC,GAAUD,EAAlBE,MAER,IAAID,EAAME,OAASF,EAAME,MAAM,GAAI,CAEjC,GAAIC,GAAS,GAAIC,WAEjBD,GAAOE,OAAS,SAAAC,GACd,GAAMC,GAAYD,EAAEL,OAAOO,OACvBC,EAAQ,GAAIC,MAChBD,GAAME,IAAMJ,EACZE,EAAMJ,OAAS,WACb,GAAMO,GAAaH,EAAMI,MACnBC,EAAcL,EAAMM,MAE1BlB,IACEN,KAAMyB,aACNC,SACEC,KAAMX,EACNM,MAAOD,EACPG,OAAQD,KAIZjB,GACEN,KAAM4B,aACNF,SACEG,QACEC,GAAI,iBACJC,KAAM,iBACNC,SAAU,UAAW,iBAO/BpB,EAAOqB,cAAcxB,EAAME,MAAM,QAEjCuB,SAAQC,IAAI,eDwCnBxD,GAAQK,SClCM,EAAAI,EAAAgD,SAAQjC,EAAiBE,GAAoBZ,GDmC3Df,EAAOC,QAAUA,EAAiB,SAI7B0D,IACA,SAAU3D,EAAQC,GAEvB,YAEAA,GAAQI,YAAa,CAErB,IAAIuD,GAAWC,OAAOC,QAAU,SAAU9B,GAAU,IAAK,GAAI+B,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIG,GAASF,UAAUD,EAAI,KAAK,GAAII,KAAOD,GAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQnC,EAAOmC,GAAOD,EAAOC,IAAY,MAAOnC,IEtH3Oe,eAAa,aACbG,eAAa,aAEpBqB,EAAU,SAAC7C,EAADV,GAA8B,GAApBM,GAAoBN,EAApBM,KAAM0B,EAAchC,EAAdgC,OAC5B,IAAI1B,IAASyB,EAAY,IACPT,GAAcU,EAApBC,IACR,OAAAW,MACOlC,GACHY,cAED,GAAIhB,IAAS4B,EAAY,IACpBC,GAAWH,EAAXG,MACR,OAAAS,MACOlC,GACHyB,WAGR,MAAOzB,GF8HVzB,GAAQK,QE3HMiE","file":"component---src-pages-image-input-js-f2576859756d8b11fa0b.js","sourcesContent":["webpackJsonp([100522997979284],{\n\n/***/ 576:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(85);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _reactRedux = __webpack_require__(270);\n\t\n\tvar _semanticUiReact = __webpack_require__(96);\n\t\n\tvar _duotoneRender = __webpack_require__(128);\n\t\n\tvar _duotoneRender2 = _interopRequireDefault(_duotoneRender);\n\t\n\tvar _index = __webpack_require__(195);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ImageInput = function ImageInput(_ref) {\n\t  var selectFile = _ref.selectFile;\n\t  return _react2.default.createElement(\n\t    _semanticUiReact.Segment,\n\t    { basic: true },\n\t    _react2.default.createElement(\n\t      _semanticUiReact.Segment,\n\t      null,\n\t      _react2.default.createElement(\n\t        _semanticUiReact.Header,\n\t        null,\n\t        'Image Input'\n\t      ),\n\t      _react2.default.createElement('input', { type: 'file',\n\t        accept: 'image/*',\n\t        onChange: selectFile })\n\t    ),\n\t    _react2.default.createElement(\n\t      _semanticUiReact.Segment,\n\t      null,\n\t      _react2.default.createElement(_duotoneRender2.default, null)\n\t    )\n\t  );\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {};\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n\t  return {\n\t    selectFile: function selectFile(event) {\n\t      var input = event.target;\n\t\n\t\n\t      if (input.files && input.files[0]) {\n\t\n\t        var reader = new FileReader();\n\t\n\t        reader.onload = function (e) {\n\t          var imageData = e.target.result;\n\t          var image = new Image();\n\t          image.src = imageData;\n\t          image.onload = function () {\n\t            var imageWidth = image.width;\n\t            var imageHeight = image.height;\n\t\n\t            dispatch({\n\t              type: _index.SET_SOURCE,\n\t              payload: {\n\t                data: imageData,\n\t                width: imageWidth,\n\t                height: imageHeight\n\t              }\n\t            });\n\t\n\t            dispatch({\n\t              type: _index.SET_FILTER,\n\t              payload: {\n\t                filter: {\n\t                  id: \"spotify_peachy\",\n\t                  name: \"Spotify Peachy\",\n\t                  colours: [\"#ed3ea4\", \"#fec76c\"]\n\t                }\n\t              }\n\t            });\n\t          };\n\t        };\n\t\n\t        reader.readAsDataURL(input.files[0]);\n\t      } else {\n\t        console.log('no image?');\n\t      }\n\t    }\n\t  };\n\t};\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(ImageInput);\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar SET_SOURCE = exports.SET_SOURCE = 'SET_SOURCE';\n\tvar SET_FILTER = exports.SET_FILTER = 'SET_FILTER';\n\t\n\tvar reducer = function reducer(state, _ref) {\n\t    var type = _ref.type,\n\t        payload = _ref.payload;\n\t\n\t    if (type === SET_SOURCE) {\n\t        var imageData = payload.data;\n\t\n\t        return _extends({}, state, {\n\t            imageData: imageData\n\t        });\n\t    } else if (type === SET_FILTER) {\n\t        var filter = payload.filter;\n\t\n\t        return _extends({}, state, {\n\t            filter: filter\n\t        });\n\t    }\n\t    return state;\n\t};\n\t\n\texports.default = reducer;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-image-input-js-f2576859756d8b11fa0b.js","import React from 'react'\nimport Link from 'gatsby-link'\nimport { connect } from \"react-redux\"\nimport { Segment, Header, Button } from 'semantic-ui-react'\nimport DuotoneRender from '../components/duotone-render'\nimport { SET_SOURCE, SET_FILTER } from '../reducers/index'\n\nconst ImageInput = ({ selectFile }) => (\n  <Segment basic>\n    <Segment>\n      <Header>Image Input</Header>\n      <input type=\"file\"\n        accept=\"image/*\"\n        onChange={selectFile} />\n    </Segment>\n    <Segment>\n      <DuotoneRender />\n    </Segment>\n  </Segment>\n)\n\nconst mapStateToProps = (state) => {\n  return {}\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    selectFile: (event) => {\n      const { target: input } = event;\n\n      if (input.files && input.files[0]) {\n\n        var reader = new FileReader();\n\n        reader.onload = e => {\n          const imageData = e.target.result;\n          var image = new Image();\n          image.src = imageData;\n          image.onload = () => {\n            const imageWidth = image.width;\n            const imageHeight = image.height;\n\n            dispatch({\n              type: SET_SOURCE,\n              payload: {\n                data: imageData,\n                width: imageWidth,\n                height: imageHeight\n              }\n            })\n\n            dispatch({\n              type: SET_FILTER,\n              payload: {\n                filter: {\n                  id: \"spotify_peachy\",\n                  name: \"Spotify Peachy\",\n                  colours: [\"#ed3ea4\", \"#fec76c\"]\n                }\n              }\n            })\n          };\n        };\n\n        reader.readAsDataURL(input.files[0]);\n      } else {\n        console.log('no image?')\n      }\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageInput)\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-input.js","export const SET_SOURCE = 'SET_SOURCE'\nexport const SET_FILTER = 'SET_FILTER'\n\nconst reducer = (state, { type, payload }) => {\n    if (type === SET_SOURCE) {\n        const { data: imageData } = payload\n        return {\n            ...state,\n            imageData\n        }\n    } else if (type === SET_FILTER) {\n        const { filter } = payload\n        return {\n            ...state,\n            filter\n        }\n    }\n    return state\n}\n\nexport default reducer\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.js"],"sourceRoot":""}